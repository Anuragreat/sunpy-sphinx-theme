{# Import the theme's layout #}
{% extends "bootstrap/layout.html" %}

{# Extra JS files #}
{%- block scripts %}
{{ super() }}
<script type="text/javascript" src="{{ pathto('_static/copybutton.js', 1) }}"></script>
<script type="text/javascript" src="{{ pathto('_static/version.js', 1) }}"></script>
<script type="text/javascript" src="{{ pathto('_static/active.js', 1) }}"></script>
{%- endblock %}

{# Custom CSS overrides #}
{% set css_files = css_files + ['_static/sunpy_style.css'] %}

{# Add some extra stuff before and use existing with 'super()' call #}
{%- set render_sidebar = (not embedded) and (not theme_nosidebar|tobool) and sidebars %}
{%- set bs_content_width2 = render_sidebar and "8" or "12"%}

{% macro seo_title() -%}
{% if ishome -%}
{{ docstitle|striptags|e }}
{%- else -%}
{{ title|striptags|e }} | {{ docstitle|striptags|e }}
{%- endif %}
{%- endmacro %}

{%- macro description() -%}
{{ (seo_description or theme_seo_description )|striptags|e }}
{%- endmacro -%}

{%- block extrahead -%}
<!-- Facebook OpenGraph -->
<meta property="og:title" content="{{ seo_title() }}" />
<meta property="og:type" content="website" />
<meta property="og:url" content="{{ pathto(theme_base_url + '/' + pagename, 1) }}.html" />
<meta property="og:image" content="{{ pathto(theme_base_url + '/_static/' + theme_opengraph_image, 1) }}" />
<meta property="og:description" content="{{ description() }}" />
<meta property="og:site_name" content="{{ docstitle|striptags|e }}" />
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta http-equiv="x-ua-compatible" content="ie=edge">

{% if not version_slug in to_be_indexed  %}
<meta name="robots" content="noindex, nofollow">
{% endif %}
{%- endblock %}

{%- block header %}{{ navBar() }}{%- endblock %}

{%- macro sphinxsidebar() %}
{%- if render_sidebar %}
<div class="{{ bs_span_prefix }}4">
  <div class="bs-sidenav">
    {%- block sidebarlogo %}{%- endblock %}
    {%- if sidebars != None %}
    {%- for sidebartemplate in sidebars %}
    {%- include sidebartemplate %}
    {%- endfor %}
    {%- endif %}
  </div>
</div>
{%- endif %}
{%- endmacro %}

{%- block content %}
<div class="main container-fluid">
  <div class="row">
    {%- block sidebar %} {% if render_sidebar|tobool %}{{ sphinxsidebar() }}{% endif %} {% endblock %}
    <div class="body {{ bs_span_prefix }}{{ bs_content_width2 }} content" role="main">
      {% block body %}{% endblock %}
    </div>
  </div>
</div>
{%- endblock %}

{%- block footer %}
{% include "footer.html" %}
{%- endblock %}
